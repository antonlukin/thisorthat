"use strict";!function(){function t(e){27===e.keyCode&&(r.classList.remove("feedback--visible"),history.replaceState(null,null," "),document.removeEventListener("keydown",t))}function n(){r.classList.add("feedback--visible"),document.addEventListener("keydown",t)}var r=document.querySelector(".feedback"),o=r.querySelector(".feedback-form");o.addEventListener("submit",function(e){e.preventDefault();var t=[];t.push(o.querySelector("textarea").value);var n=o.querySelector("input").value;n&&t.push("<b>".concat(n,"</b>"));var c={text:t.join("\n\n")},a=new XMLHttpRequest;a.open("POST","/help/"),a.setRequestHeader("Content-Type","application/json"),a.onload=function(){if(200===a.status)return r.classList.add("feedback--sent");r.classList.add("feedback--error")},a.onerror=function(){r.classList.add("feedback--error")},a.send(JSON.stringify(c))}),r.querySelector(".feedback-close").addEventListener("click",function(e){e.preventDefault(),r.classList.remove("feedback--visible"),history.replaceState(null,null," ")}),document.querySelectorAll('a[href="#feedback"]').forEach(function(e){e.addEventListener("click",function(){n()})}),"#feedback"===document.location.hash&&n()}();